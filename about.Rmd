---
title: "About"
author: "Jessica Edwards"
date: "2/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
library(janitor)
```

## Summary and Goals

This project's goal is to analyze students studying STEM at the university level and to break down and compare racial and gender demographics between highly ranked institutions within the United States. This data is collected from the [American Society for Engineering Education (ASEE)](https://www.asee.org/). 

This investigation hopes to critique the current demographic breakdown of STEM fields and encourage higher institutions to think more about how they can help encourage underrepresented minorities to enter and remain interested in STEM fields. 

So far in my project, I have currently found and cleaned data tables on Degrees Awarded by Program in 2018 for the eight Ivy League Schools. These tables provide the racial and gender breakdowns within STEM degrees awarded at each school. 

In the future weeks, I would also like to process data from other schools including the following: 

Boston University,
California Institute of Technology,
University of California, Berkeley,
Carnegie Mellon University,
Duke University,
Georgia Institute of Technology,
Harvey Mudd College,
Johns Hopkins University,
Massachusetts Institute of Technology,
Northwestern University,
Tufts University,
Vanderbilt University,
University of Virginia,
Washington University in St. Louis

I would also like to analyze the number of students studying each field in total over a longer time span to see if the racial and gender breakdowns changes significantly over time. 

Additionally, there are tables on the ASEE website that break down each field based on how many students identify as male or female within each race which may be interesting to incorporate in my project. 

Finally, I may consider including data about K-12 STEM programs and career paths in my project in order to analyze if racial and gender breakdowns before and after college are similar.

#### Github Link: https://github.com/jessie9111/gov1005-final-project

## The Data

Brown University
```{r brown, echo=FALSE}

# Demographics for Brown Engineering degrees awarded by program in 2018.

brown_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8107/screen/21?school_name=Brown+University") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

brown_ugrad_degrees_2018 <- brown_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)
  
cnt = nrow(brown_ugrad_degrees_2018)
  
brown_ugrad_degrees_2018 <- brown_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

brown_ugrad_degrees_2018 <- brown_ugrad_degrees_2018[!(brown_ugrad_degrees_2018$Male==0 
                                                     & brown_ugrad_degrees_2018$Female==0),]
  
brown_ugrad_degrees_2018
```

Columbia University
```{r columbia, echo=FALSE}

# Demographics for Columbia Engineering degrees awarded by program in 2018.

columbia_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8224/screen/21?school_name=Columbia+University") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

columbia_ugrad_degrees_2018 <- columbia_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(columbia_ugrad_degrees_2018)
  
columbia_ugrad_degrees_2018 <- columbia_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

columbia_ugrad_degrees_2018 <- columbia_ugrad_degrees_2018[!(columbia_ugrad_degrees_2018$Male==0 
                                                          & columbia_ugrad_degrees_2018$Female==0),]
  
columbia_ugrad_degrees_2018
```

Cornell University
```{r cornell, echo=FALSE}

# Demographics for Cornell Engineering degrees awarded by program in 2018. 

cornell_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8046/screen/21?school_name=Cornell+University") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

cornell_ugrad_degrees_2018 <- cornell_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(cornell_ugrad_degrees_2018)
  
cornell_ugrad_degrees_2018 <- cornell_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

cornell_ugrad_degrees_2018 <- cornell_ugrad_degrees_2018[!(cornell_ugrad_degrees_2018$Male==0 
                                                        & cornell_ugrad_degrees_2018$Female==0),]
  
cornell_ugrad_degrees_2018
```

Dartmouth College
```{r dartmouth, echo=FALSE}

# Demographics for Dartmouth Engineering degrees awarded by program in 2018.

dartmouth_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8085/screen/21?school_name=Dartmouth+College") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

dartmouth_ugrad_degrees_2018 <- dartmouth_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(dartmouth_ugrad_degrees_2018)

dartmouth_ugrad_degrees_2018 <- dartmouth_ugrad_degrees_2018[-c(cnt),]

# Renamed the first row of the table to "Computer Science (A.B.)" from "Computer Science (A.B.)1"
  
dartmouth_ugrad_degrees_2018[1, 1] <- "Computer Science (A.B.)"

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

dartmouth_ugrad_degrees_2018 <- dartmouth_ugrad_degrees_2018[!(dartmouth_ugrad_degrees_2018$Male==0 
                                                            & dartmouth_ugrad_degrees_2018$Female==0),]

dartmouth_ugrad_degrees_2018
```

Harvard University
```{r harvard, echo=FALSE}

# Demographics for Harvard Engineering degrees awarded by program in 2018.

harvard_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8130/screen/21?school_name=Harvard+University") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

harvard_ugrad_degrees_2018 <- harvard_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(harvard_ugrad_degrees_2018)
  
harvard_ugrad_degrees_2018 <- harvard_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

harvard_ugrad_degrees_2018 <- harvard_ugrad_degrees_2018[!(harvard_ugrad_degrees_2018$Male==0 
                                                        & harvard_ugrad_degrees_2018$Female==0),]

harvard_ugrad_degrees_2018
```

University of Pennsylvania
```{r penn, echo=FALSE}

# Demographics for UPenn Engineering degrees awarded by program in 2018. 

penn_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8116/screen/21?school_name=University+of+Pennsylvania") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

penn_ugrad_degrees_2018 <- penn_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(penn_ugrad_degrees_2018)

penn_ugrad_degrees_2018 <- penn_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

penn_ugrad_degrees_2018 <- penn_ugrad_degrees_2018[!(penn_ugrad_degrees_2018$Male==0 
                                                     & penn_ugrad_degrees_2018$Female==0),]

penn_ugrad_degrees_2018
```

Princeton University
```{r princeton, echo=FALSE}

# Demographics for Princeton Engineering degrees awarded by program in 2018. 

princeton_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8068/screen/21?school_name=Princeton+University") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

princeton_ugrad_degrees_2018 <- princeton_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(princeton_ugrad_degrees_2018)
  
princeton_ugrad_degrees_2018 <- princeton_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

princeton_ugrad_degrees_2018 <- penn_ugrad_degrees_2018[!(princeton_ugrad_degrees_2018$Male==0 
                                                     & princeton_ugrad_degrees_2018$Female==0),]

princeton_ugrad_degrees_2018
```

Yale School of Engineering & Applied Science
```{r yale, echo=FALSE}

yale_ugrad_degrees_2018 <-
  read_html("http://profiles.asee.org/profiles/8218/screen/21?school_name=Yale+School+of+Engineering+%26+Applied+Science") %>% html_nodes("table")

# Used the rvest package to read the table with racial and gender breakdowns.
# Removed the "Tot" column in the table and rows with NA values.

yale_ugrad_degrees_2018 <- yale_ugrad_degrees_2018[[2]] %>%
  html_table(fill = TRUE) %>%
  select(-Tot) %>%
  drop_na()

# Used the number of rows to remove the last row of the table (the Totals row)

cnt = nrow(yale_ugrad_degrees_2018)
  
yale_ugrad_degrees_2018 <- yale_ugrad_degrees_2018[-c(cnt),]

# Removed rows that had all zero values, or no students receiving degrees in a
# certain field in 2018

yale_ugrad_degrees_2018 <- yale_ugrad_degrees_2018[!(yale_ugrad_degrees_2018$Male==0 
                                                     & yale_ugrad_degrees_2018$Female==0),]

yale_ugrad_degrees_2018

# May want to consider writing a function for processing the tables, especially
# as I add more schools to the analysis...

```







